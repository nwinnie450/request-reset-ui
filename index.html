<!DOCTYPE html>
<html>
<head>
  <title>Reset Password</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h2 id="title">Forgot Your Password?</h2>

  <!-- Request Reset Link Form -->
  <form id="request-form" action="https://n8n.mq-ai.net/webhook-test/request-reset" method="POST">
    <label for="email">Enter your email:</label><br>
    <input type="email" name="email" id="email" required /><br><br>
    <button type="submit">Send Reset Link</button>
  </form>

  <!-- Reset Password Form -->
  <form id="reset-form" class="hidden" method="POST" action="https://n8n.mq-ai.net/webhook-test/reset-password">
    <input type="hidden" name="email" id="reset-email" />
    <input type="hidden" name="token" id="reset-token" />
    <label for="new-password">Enter new password:</label><br>
    <input type="password" name="newPassword" id="new-password" required /><br><br>
    <button type="submit">Reset Password</button>
  </form>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const email = urlParams.get('email');
    const token = urlParams.get('token');

    if (email && token) {
      // Show reset form
      document.getElementById('title').textContent = 'Reset Your Password';
      document.getElementById('request-form').classList.add('hidden');
      document.getElementById('reset-form').classList.remove('hidden');

      // Fill hidden fields
      document.getElementById('reset-email').value = email;
      document.getElementById('reset-token').value = token;
    }
  </script>
</body>
</html>
